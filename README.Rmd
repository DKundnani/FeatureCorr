---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# FeatureCorr

<!-- badges: start -->
<!-- badges: end -->

 An R package to study feature correlations aided with data transformation for Next Generation sequencing and microarray data

## Installation

You can install the released version of FeatureCorr from [CRAN](https://CRAN.R-project.org) with:

``` r
install.packages("FeatureCorr")
```

And the development version from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("DKundnani/FeatureCorr")
```
## Example

This is a basic example which shows you how to solve a common problem:

```{r}
library(FeatureCorr) #Loading the library

```

Data Transformation using FeatureCorr::data_transform function

```{r preprocessing}
#Data Transformation
transdf<- data_transform(df=GTEXv7[-1],transformation='log2', featurelist=GTEXv7$Description, medianthres=1)
```


Visualizing Single Pair Correlation using using FeatureCorr::pair_scatter function

```{r checking pairwise scatter}
#Single Pair Scatter on Original RNA-seq Dataset vs log2 transformed RNA-seq Dataset
pscatter <- pair_scatter(df=TCGA40,featurelist=rownames(TCGA40),feature1="RNASEH2A",feature2="PCNA", corrmeth='pearson')

pscatter <- pair_scatter(df=logTCGA40,featurelist=rownames(logTCGA40),feature1="RNASEH2A", feature2="PCNA", corrmeth='pearson')

```

Data Transformation using FeatureCorr::primefeature_corr function

```{r prime feature correlation workflow}
#Data transformation and Prime Feature(RNASEH2A gene) Correlation in Gene-Tissue EXpression Dataset
transdf<- data_transform(df=GTEXv7[-1],transformation='log2', featurelist=GTEXv7$Description,
                          medianthres=0.5)
inputdf<-transdf[[1]] #First item in the list returned is the transformed Data
primefcorr <- primefeature_corr(df=inputdf,featurelist=rownames(inputdf) ,primefeature="RNASEH2A")
```


Visualizing Multiple Pair-wise Correlation using FeatureCorr::pairwise_corr function

```{r multiple pariwise correlation}
#Multiple pairwise correlation for 40 genes in ~10K samples in The Cancer Genome Atlas-Pan Cancer dataset
pairwisedf<-TCGA40[,3:ncol(TCGA40)] #Data provided with the Package
corr_pair<-pairwise_corr(df=logTCGA40,featurelist=rownames(logTCGA40), visorder="hclust")

# Separating feature of interest for visualization 
# In This technique you can group features of differen types. For example if I have methylation and transcription data in the same dataframe for same set of feature identfiers
featgroup<-grepl( "RNASE",rownames(logTCGA40)) #optional, a set of features to separated
corr_pair<-pairwisecorr <- pairwise_corr(df=pairwisedf,featurelist=rownames(pairwisedf),featuregroup=featgroup)
```



